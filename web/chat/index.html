<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>monochat</title>
    <link rel="icon" type="image/x-icon" href="/assets/branding/favicon512.ico">

    <!-- SUPABASE cdn -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <!-- TITLE BAR / HEADER -->
    <div id="header" class="flex3">
        <div>
            <!-- <img style="width: 1rem;filter: invert(1);" src="assets/monochat-logo.png" alt=""> -->
            <p><a href="members/">monochat</a> <span></span> <span id="usersOnline"></span></p>
        </div>
        <div>

            <p id="userNameDisplay">Anonymous </p>
        </div>
        <div id="logOutBtnWrapper">
            <!-- <div>
                <p><a href="user/">profile</a></p>
            </div> -->

            <div>
                <p id="logOutBtn" style="color: rgb(221, 58, 58);">⮨Log Out⏻</p>
            </div>
        </div>
    </div>

    <!-- CHAT VIEW PORT -->
    <div id="chatScreen">

        <!-- HERE GOES ALL THE MAGIC -->

    </div>
    <!-- CHAT SEND MESSAGE INPUT DIV -->
    <div id="userInputDiv">

        <form id="chatForm">
            <!-- <input required placeholder="Juanito" type="text" name="usernameInput" id="usernameInput" maxlength="10"> -->
            <input autocomplete="off" spellcheck="false" style="width: 100%;" required placeholder="Esto, guau..."
                type="text" name="chatInput" id="userInput" maxlength="140">
            <input type="submit" name="" id="chatSendBtn" value="Send">

        </form>
        <div id="chatInputAdvice"></div>

    </div>

    <!-- SIGN IN / LOG IN DIV -->
    <div id="signInDiv" class="minWidth invisible">

        <div id="signInAdvice">You are anonymous</div>

        <form id="loginForm" method="GET">
            <div id="signInMain" style="display: none;">

                <div>

                    <div class="miniFlex">
                        <label for="userEmail">
                            Email
                        </label>
                        <input required type="email" name="userEmail" id="userEmail"><br>
                    </div>
                    <div class="miniFlex">
                        <label for="userPass">Password</label>
                        <input required autocomplete="off" type="password" name="userPass" id="userPass"><br>
                    </div>

                </div>
                <p>We will send a confirmation url to your email.</p>

            </div>
            <input id="identifyBtn" type="submit" style="background-color: blue; color: white" value="IDENTIFY">
        </form>
        <br>

    </div>

    <!-- CONFIRMATION EMAIL TEMPLATE -->

    <!-- 
    <p>Confirmation URL: {{ .ConfirmationURL }}</p>
    <p>Token: {{ .Token }}</p>
    <p>Token hash: {{ .TokenHash }} </p>
    <p>Site URL : {{ .SiteURL }}</p>
    <p>Email: {{ .Email }}</p>
    <p>Data: {{ .Data }}</p>
    <p>Redirect to: {{ .RedirectTo }}</p>

    <h3>by dibesfer - 2025</h3>
    -->
    <script src="script.js"></script>
</body>

</html>